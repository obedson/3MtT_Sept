<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product List</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage.js"></script>
    <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAT0sl_f26UP7MwIVxWJMvaz52_HodsSYY",
            authDomain: "mtt-d130b.firebaseapp.com",
            projectId: "mtt-d130b",
            storageBucket: "mtt-d130b.appspot.com",
            messagingSenderId: "103379427385",
            appId: "1:103379427385:web:672ee6ff76784954082de8",
            measurementId: "G-YXQCJLM1T9"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Initialize Firestore
        const db = firebase.firestore();

        // Function to fetch and display products
        async function fetchProducts() {
            const productContainer = document.getElementById('productContainer');
            productContainer.innerHTML = ''; // Clear previous content

            const snapshot = await db.collection('products').get();
            snapshot.forEach(doc => {
                const product = doc.data();
                const productDiv = document.createElement('div');
                productDiv.classList.add('product');

                productDiv.innerHTML = `
                    <h3>${product.description}</h3>
                    <p>Price: $${product.price}</p>
                    <p>Seller Phone: ${product.sellerPhone}</p>
                    <p><a href="${product.whatsappLink}" target="_blank">Chat on WhatsApp</a></p>
                    <img src="${product.imageUrl}" alt="${product.description}" style="max-width: 300px; height: auto;">
                    <p>Image URL: <a href="${product.imageUrl}" target="_blank">${product.imageUrl}</a></p>
                    <hr>
                `;

                productContainer.appendChild(productDiv);
            });
        }

        // Fetch products on page load
        window.onload = function() {
            fetchProducts();
        };
    </script>
    <style>
        .product {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h2>Product List</h2>
    <div id="productContainer"></div>
</body>
</html>
